title: Table of Contents
cases:
  - title: Legacy TOC upgrades
    content: |
      - file: intro
        title: Drop this title
      - part: Get started
        chapters:
        - file: start/overview
        - file: start/build
        - file: start/publish
          sections:
            - file: publish/gh-pages
            - file: publish/netlify
        - file: customize/config
        - file: customize/toc
        - file: file-types/index
          sections:
            - file: file-types/markdown
            - file: file-types/notebooks
            - file: file-types/myst-notebooks
            - file: file-types/jupytext
            - file: file-types/restructuredtext
      - part: Write book content
        chapters:
        - file: content/myst
        - file: content/content-blocks
        - file: content/citations
        - file: content/math
        - file: content/figures
        - file: content/layout
        - file: content/execute
        - file: content/code-outputs
      - part: Make your book interactive
        chapters:
        - file: interactive/launchbuttons
        - file: interactive/hiding
        - file: interactive/interactive
        - file: interactive/comments
          sections:
          - file: interactive/comments/hypothesis
          - file: interactive/comments/utterances
      - part: Advanced and miscellaneous
        chapters:
        - file: advanced/pdf
        - file: advanced/sphinx
        - file: advanced/advanced
        - file: contribute/intro

      - part: Reference
        chapters:
        - url: https://executablebooks.org/en/latest/gallery.html
          title: Gallery of Jupyter Books
        - file: reference/cheatsheet
        - file: reference/cli
        - file: reference/glossary
        - file: reference/_changelog
          title: Change log
    didUpgrade: true
  - title: JB book ToC Parses
    content: |
      root: intro
      format: jb-book
      parts:
        - caption: User Guide
          chapters:
          - file: user_guide/sphinx
          - file: user_guide/cli
          - file: user_guide/api  
        - caption: Other
          chapters:
          - file: foo.md
          - glob: bar/baz*.md
            sections:
              - file: other.md
  - title: JB article ToC Parses
    content: |
      root: intro
      format: jb-article
      sections:
        - file: user_guide/sphinx
        - file: user_guide/cli
        - file: user_guide/api    
        - file: foo.md
        - glob: bar/baz*.md
  - title: Unknown format fails
    content: |
      root: intro
      format: jb-article-new
      sections:
        - file: user_guide/sphinx
        - file: user_guide/cli
        - file: user_guide/api    
        - file: foo.md
        - glob: bar/baz*.md
    throws: 'The given contents do not form a valid TOC'
  - title: Parts and chapters fails
    content: |
      root: intro
      format: jb-book
      parts:
        - file: user_guide/sphinx
        - file: user_guide/cli
        - file: user_guide/api    
      chapters:
        - file: foo.md
        - glob: bar/baz*.md
    throws: 'The given contents do not form a valid TOC'
  - title: Sections and chapters fails
    content: |
      root: intro
      format: jb-book
      sections:
        - file: user_guide/sphinx
        - file: user_guide/cli
        - file: user_guide/api    
      chapters:
        - file: foo.md
        - glob: bar/baz*.md
    throws: 'The given contents do not form a valid TOC'
  - title: Sections and parts fails
    content: |
      root: intro
      format: jb-book
      sections:
        - file: user_guide/sphinx
        - file: user_guide/cli
        - file: user_guide/api    
      parts:
        - file: foo.md
        - glob: bar/baz*.md
    throws: 'The given contents do not form a valid TOC'
